<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>JAPAN SUSHI MARKET</title>
<link rel="stylesheet" href="style.css?v=401" />
</head>

<body>

<div class="wrap">
  <main class="stage">

    <img src="JSM.PNG" class="art" alt="JAPAN SUSHI MARKET">

    <!-- UI（画像幅に完全ロック） -->
    <div class="ui">
      <a class="btn primary"
         href="https://jup.ag/swap/SOL-ここにCA"
         target="_blank" rel="noopener">
        TRADE ON JUPITER
      </a>

      <button class="btn ghost" type="button" onclick="toggleCA()">
        CONTRACT
      </button>
    </div>

    <!-- CAパネル -->
    <div id="caBox" class="caBox">
      <code id="caText" class="caText">ここにCA</code>
      <button class="copyBtn" type="button" onclick="copyCA()">COPY</button>
      <div id="toast" class="toast">COPIED</div>
    </div>

  </main>
</div>

<script>
function toggleCA(){
  document.getElementById("caBox").classList.toggle("show");
}

async function copyCA(){
  const text = document.getElementById("caText").innerText.trim();
  const toast = document.getElementById("toast");

  try{
    await navigator.clipboard.writeText(text);
  }catch(e){
    const ta = document.createElement("textarea");
    ta.value = text;
    document.body.appendChild(ta);
    ta.select();
    document.execCommand("copy");
    document.body.removeChild(ta);
  }

  toast.classList.add("show");
  setTimeout(()=>toast.classList.remove("show"), 900);
}
</script>

</body>
</html>